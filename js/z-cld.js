/* Copyright 2014 lennart.borgman@gmail.com */ (function(){var l;window.logItParams={timeStamp:!0,toConsole:!0};
window.logIt=function(a){window.logItParams.toConsole&&console.log("logIt txtP",a);var b=document.createElement("p");b.classList.add("logit-p");if(window.logItParams.timeStamp){var c=new Date,e=c.getHours(),d=c.getMinutes(),h=c.getSeconds(),c=c.getMilliseconds(),f=function(a,b){for(var c=a+"";c.length<b;)c="0"+c;return c},e=f(e,2)+":"+f(d,2)+":"+f(h,2)+"."+f(c,3)+" ",d=document.createElement("span");d.setAttribute("class","logit-timestamp");d.appendChild(document.createTextNode(e));b.appendChild(d)}b.appendChild(document.createTextNode(a));
l||(l=document.getElementById("logit-div"));l||(l=document.createElement("div"),l.setAttribute("id","logit-div"),a=document.createElement("button"),a.appendChild(document.createTextNode("Clear log")),l.appendChild(a),a.addEventListener("click",function(){l.parentNode.removeChild(l);l=null}),document.body.appendChild(l));l.appendChild(b)};
window.logItMore=function(a){function b(a){if("string"===typeof a)p=document.createElement("p"),p.appendChild(document.createTextNode(a)),l.appendChild(p);else a:{try{l.appendChild(a);break a}catch(b){}try{l.appendChild(document.createTextNode(a.toString()));break a}catch(c){}a=document.createElement("p");a.appendChild(document.createTextNode(" ERROR logIT: can't log item "));l.appendChild(a)}}window.logItParams.toConsole&&console.log("logItMore more",a);if(a.length&&"string"!==typeof a)for(var c;c=
a[0];)b(c);else b(a)};window.addEventListener("load",function(){(function(a){Object.keys(a).forEach(function(b){var c=a[b],e=c[0],c=c[1],d=document.getElementById(b);if(d&&d.nodeName!==e)console.log("ERROR: type !\x3d\x3d oldElt.nodeName",e,d);else{var h=d||document.createElement(e);h.setAttribute("id",b);"script"===e||"style"===e?(h.appendChild(document.createTextNode(c)),d||document.head.appendChild(h)):(h.innerHTML=c,d||document.body.appendChild(h))}})})({mh1:["NAV",'\x3cul id\x3d"mh1-top-menu" class\x3d"mh1-hover-menu"\x3e\n\x3cli class\x3d"mh1-menu-item"\x3e\n\x3c!-- \x3ca id\x3d"mh1-title" title\x3d"Visit" href\x3d"http://ourcomments.org/psyblog/"\x3eOurComments on Psychology \x3c/a\x3e --\x3e\n\x3cspan id\x3d"mh1-title" title\x3d"Menu"\x3eOurComments on Psychology \x3c/span\x3e\n\x3cul id\x3d"mh1-main-menu" class\x3d"Xmh1-menu-item"\x3e\n\x3cli id\x3d"mh1-about-menu-item" class\x3d"mh1-menu-item"\x3e\n\x3ca href\x3d"http://ourcomments.org/psyblog/about/" class\x3d"Xmh1-help" title\x3d"Read about OurComments on Psychology"\x3eAbout\x3c/a\x3e\n\x3c/li\x3e\n\x3cli id\x3d"mh1-blog-menu-item" class\x3d"mh1-menu-item mh1-hover-menu"\x3e\n\x3cspan\x3eBlogs\x26nbsp;\n\x3ca href\x3d"http://ourcomments.org/psyblog/site-list/" class\x3d"mh1-help" title\x3d"Info about blogs"\x3e?\x3c/a\x3e\x3c/span\x3e\n\x3cul id\x3d"mh1-blog-list-menu" class\x3d"Xmh1-menu-item"\x3e\n\x3cli id\x3d"mh1-blog-list-container-blogs" class\x3d"Xmh1-menu-item"\x3e\n\x3cdiv style\x3d"padding: 40px; width: 200px;"\x3eFetching blog list...\x3c/div\x3e\n\x3c/li\x3e\n\x3c/ul\x3e\n\x3c/li\x3e\n\x3c/ul\x3e\n\x3c/li\x3e\n\x3c/ul\x3e\n\x3cdiv id\x3d"mh1-search-symbol" title\x3d"Search!"\x3e\n\x3cdiv id\x3d"mh1-glass"\x3e\x3c/div\x3e\n\x3cdiv id\x3d"mh1-glass-rod"\x3e\x3c/div\x3e\n\x3c/div\x3e\n\x3cdiv id\x3d"mh1-hamburger"\x3e\n\x3cdiv\x3e\x3c/div\x3e\n\x3cdiv\x3e\x3c/div\x3e\n\x3cdiv\x3e\x3c/div\x3e\n\x3c/div\x3e\n\x3cnav id\x3d"mh1-search"\x3e\n\x3cul id\x3d"mh1-main-search"\x3e\n\x3cli\x3e\n\x3cspan id\x3d"mh1-search-psyblog-span"\x3e\n\x3cinput type\x3d"search" size\x3d"5" id\x3d"mh1-search-psyblog" title\x3d"Search all blogs in OurComments on Psychology" placeholder\x3d"Search all blogs"\x3e\n\x3ca href\x3d"http://ourcomments.org/psyblog/site-list/" class\x3d"mh1-help" title\x3d"Help for Search OurComments on Psychology"\x3e?\x3c/a\x3e\n\x3cspan class\x3d"mh1-menu-details"\x3e - Search all blogs in OurComments on Psychology.\x3c/span\x3e\n\x3c/span\x3e\n\x3c/li\x3e\n\x3cli\x3e\n\x3cspan id\x3d"mh1-zotero-search"\x3e\n\x3cinput type\x3d"search" size\x3d"5" id\x3d"mh1-search-zotero" title\x3d"Search our Zotero library (From Some Psychologists)" placeholder\x3d"Search Zotero"\x3e\n\x3ca href\x3d"http://ourcomments.org/psyblog/our-zotero-library/" class\x3d"mh1-help" title\x3d"Help for searching our Zotero library"\x3e?\x3c/a\x3e\n\x3cspan class\x3d"mh1-menu-details"\x3e - Search our psychology related links.\x3c/span\x3e\n\x3c/span\x3e\n\x3c/li\x3e\n\x3c/ul\x3e\n\x3c/nav\x3e\n\x3c!--?php\n/* You may use PHP to get content! Your context is add_action(\'wp_footer\', ..., 1001) */\n// echo "Some text from PHP echo!";\n?--\x3e\n\x3cdiv style\x3d"clear:both"\x3e\x3c/div\x3e\n'],
mh1Css:["STYLE",'/* Tip: Use !important on all values - except those that you want to change with javascript. */\n#mh1 div, #mh1 span, #mh1 a, #mh1 ul, #mh1 li, {\nborder: 0;\nfont-family: inherit;\nfont-size: 100%;\nfont-style: inherit;\nfont-weight: inherit;\nmargin: 0;\noutline: 0;\npadding: 0;\nvertical-align: baseline;\n}\n#mh1 {\nfont-family: Arial !important;\nposition:absolute;\nz-index: 400 !important; /* wp toolbar 500 */\ntop:0;\nleft:0!important;\nright:0 ! important;\ndisplay: block !important;\nbackground:#005E8E !important;\nxpadding: 6px!important;\nfont-size: 14px !important;\nborder-bottom: 1px solid white !important;\n}\n#mh1.mh1-wp {\n}\n#mh1 * {\nbox-sizing: border-box !important;\n-moz-box-sizing: border-box !important;\n}\n#mh1 ::-webkit-input-placeholder { color: #54A4CC!important; }\n#mh1 ::-moz-placeholder { color: #54A4CC!important; }\n#mh1 :-ms-input-placeholder { color: #54A4CC!important; }\n#mh1 a {\ncolor: #7CD3FF!important;\ntext-decoration: none!important;\ndisplay: inline-block !important;\nmargin-left: 0 !important;\n}\n#mh1 #mh1-title {\nfont-weight: bold!important;\ncolor: #7CD3FF!important;\npadding: 6px !important;\n}\n#mh1 a.mh1-help {\nbackground-color:#008ed7 !important;\ncolor: #eee!important;\nborder-radius: 6px!important;\npadding-left:3px!important;\npadding-right:3px!important;\npadding-top: 0 !important;\npadding-bottom: 0 !important;\n}\n#mh1 a.mh1-help:hover {\ncolor: black!important;\nbackground-color: #82c8ec !important;\n}\n/* Mobile style menu icon */\n#mh1 #mh1-hamburger {\nfloat: right !important;\nmargin: 0 !important;\nmargin-right: 4px !important;\nborder-radius: 3px 3px 3px 3px !important;\ncursor: pointer !important;\ndisplay: inline-block !important;\nheight: 22px !important;\npadding: 2px 2px 2px !important;\nposition: relative !important;\nwidth: 24px !important;\nbackground: #7CD3FF!important;\n}\n#mh1 #mh1-hamburger:hover {\nbackground: #45ade2!important;\n}\n/* The white stripes in the hamburger button */\n#mh1 #mh1-hamburger div {\nbackground-color: #bee9ff !important;\nheight: 2px !important;\nmargin-top: 3px !important;\nwidth: auto !important;\n}\n#mh1 ul {\nmargin: 0 !important;\npadding: 0 !important;\nlist-style-position: outside !important;\nlist-style-type: none !important;\nlist-style-image: none !important;\n}\n#mh1 ul li {\npadding: 0 !important;\nmargin: 0 !important;\n}\n#mh1 ul li \x3e * { display: inline-block !important; }\n#mh1 ul {\ndisplay: inline-block !important;\n}\n#mh1 ul li {\ndisplay: inline-block !important;\n}\n/* #mh1 * { z-index: inherit !important; } */\n#mh1 #mh1-search {\nfloat: right !important;\ntransition: all 0.5s ease-in-out !important;\nz-index: 400 !important;\n}\n#mh1 input[type\x3d"search"] {\ndisplay: inline-block !important;\nmargin: 0 !important;\npadding: 2px!important;\npadding-top: 0px!important;\npadding-bottom: 0px!important;\nborder-width: 1px!important;\nborder-color: #A9E3FF !important;\nborder-style: solid;\nborder-radius: 5px!important;\nbackground-color: #CBEEFF!important;\n}\n#mh1 input[type\x3d"search"]:hover {\nbackground-color: rgb(255, 255, 255) !important;\n}\n#mh1 input[type\x3d"search"]:focus {\nbackground-color: rgb(255, 255, 255) !important;\nborder-color: blue;\nbackground-position: right !important;\nbackground-image: url(http://www.google.com/cse/intl/en/images/google_custom_search_watermark.gif);\nbackground-repeat: no-repeat !important;\n}\n/* #mh1 input[type\x3d"search"]#mh1-search-psyblog:focus { } */\n/* Blog list menu */\n#mh1-blog-list-header {\npadding: 6px !important;\npadding-left: 40px !important;\nbackground: #eee !important;\n}\n#mh1-main-menu a {\npadding: 0 !important;\n}\n#mh1-top-menu {\ndisplay: inline-block !important;\ncursor: pointer !important;\n}\n#mh1-top-menu * {\nfont-size: 14px !important;\n}\n#mh1 #mh1-top-menu.mh1-hover-menu:hover #mh1-main-menu {\ndisplay: block !important;\n}\n#mh1 #mh1-top-menu #mh1-main-menu.mh1-visible-submenu {\ndisplay: block !important;\n}\n#mh1 #mh1-main-menu {\ndisplay: none !important;\nposition: absolute !important;\ntop: 100% !important;\nleft: 0% !important;\nmargin: 0 !important;\n}\n#mh1 #mh1-top-menu ul {\nbackground:#005E8E !important;\n}\n#mh1 #mh1-top-menu ul {\nwidth: auto !important;\n}\n#mh1 #mh1-top-menu * {\nmargin: 0 !important;\n}\n#mh1 #mh1-top-menu:after {\ncontent: ""; clear: both !important; display: block !important;\n}\n#mh1 #mh1-top-menu ul li {\ndisplay: block !important;\nwidth: auto !important;\n}\n/* #mh1 #mh1-top-menu ul li * { */\n#mh1 .mh1-menu-item {\ncolor:#cbeeff!important;\ndisplay: block !important;\n}\n#mh1-main-menu .mh1-menu-item \x3e a, #mh1-main-menu .mh1-menu-item \x3e span {\npadding: 15px 20px !important;\nxwidth: 300px !important;\n}\n#mh1 .mh1-menu-item:hover {\nbackground-color: black !important;\ntext-shadow: none !important;\n}\n#mh1 #mh1-main-menu li {\nborder-left: 1px solid #3A7997!important;\nborder-top: 1px solid #3A7997!important;\nborder-bottom: 1px solid #14303F !important;\n}\n#mh1 #mh1-blog-menu-item {\nposition: relative !important;\n}\n#mh1 #mh1-blog-menu-item #mh1-blog-list-menu {\ndisplay: none !important;\nposition: absolute !important;\ntop: 0% !important;\nleft: 80px !important;\n}\n#mh1 #mh1-blog-menu-item #mh1-blog-list-menu li {\nwidth: 240px !important;\n}\n#mh1 #mh1-blog-menu-item.mh1-hover-menu:hover #mh1-blog-list-menu {\ndisplay: block !important;\n}\n#mh1 #mh1-blog-menu-item #mh1-blog-list-menu.mh1-visible-submenu {\ndisplay: block !important;\n}\n/* A little fun with searching!\n\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d\x3d */\n#mh1-glass {\nposition: absolute !important;\ntop: 6px !important;\nleft: 6px !important;\nborder: 2px solid #7CD3FF !important;\nborder-radius: 50% !important;\nwidth: 12px !important;\nheight: 12px !important; \ndisplay: block !important;\n}\n#mh1-glass-rod {\ntransform: rotate(-45deg) !important;\n-webkit-transform: rotate(-45deg) !important;\nwidth: 2px !important;\nheight: 12px !important;\nposition: absolute !important;\ntop: 12px !important;\nleft: 18px !important;\nbackground-color: #7CD3FF !important;\n}\n#mh1-search-symbol {\ndisplay: inline-block !important;\nwidth: 32px !important;\nheight: 28px !important;\nposition: relative !important;\ncursor: pointer !important;\nfloat: right !important;\npadding: 2px !important;\n}\n#mh1-search-symbol:hover {\nbackground: black !important;\n}\n#mh1-search-symbol * {\npadding: 0 !important;\nmargin: 0 !important;\n}\n/* Screen width adjustments */\n@media screen and ( min-width: 900px ) {\n#mh1 #mh1-hamburger { display: none !important; }\n#mh1 #mh1-search-symbol { display: none !important; }\n#mh1 #mh1-search {\nmargin-top: 5px !important;\nposition: static !important;\ndisplay: inline-block !important;\noverflow: visible !important;\nwidth: auto !important;\nfloat: right !important;\n}\n#mh1 #mh1-main-search {\ndisplay: inline-block;\nposition: static;\nmargin-right: 8px !important;\nbackground-color: transparent !important;\nwidth: auto !important;\nfloat: align: right;\n}\n/* #mh1 ul { display: inline-block !important; } */\n/* #mh1 ul li { display: inline-block !important; border: none !important; } */\n/* #mh1 ul li \x3e * { display: inline-block !important; xpadding: 0 !important; margin-left: 20px !important; } */\n#mh1 .mh1-menu-details { display: none !important; }\n#mh1 input[type\x3d"search"] {\nwidth: 130px!important;\n}\n#mh1 input[type\x3d"search"]:focus {\ntransition: all 0.5s ease-in-out !important;\nwidth: 440px !important;\npadding: 4px !important;\n}\n#mh1 input[type\x3d"search"]:hover {\ntransition: all 0.5s ease-in-out !important;\n}\n}\n@media screen and ( max-width: 899px ) {\n#mh1 #mh1-hamburger { display: inline-block !important; }\n#mh1 #mh1-hamburger { display: none !important; }\n#mh1 #mh1-search {\ndisplay: none;\nheight: 0;\n}\n#mh1 #mh1-search {\nposition: absolute;\nxdisplay: none;\nxheight: 0;\noverflow: hidden !important;\nfloat: none !important;\nmax-width: 400px;\nleft: auto !important;\nright: 0 !important;\nborder: 2px solid white;\nborder-radius: 30px !important;\nborder-top-right-radius: 0px !important;\nbackground-color: inherit !important;\n}\n#mh1 #mh1-search-sym:hover #mh1-main-search {\ndisplay: block !important;\nheight: auto;\n}\n#mh1-main-search ul {\ndisplay: block !important;\nmargin-left: 0 !important;\nbackground-color: inherit !important;\nleft: 0 !important;\nright: 0 !important;\n}\n#mh1-main-search .mh1-menu-details { display: inline-block!important; color: #7CD3FF !important; }\n#mh1-main-search ul { display: block !important; }\n#mh1-search ul li {\nwidth: 100% !important;\nborder-bottom: 1px solid white !important;\n}\n#mh1-search ul li \x3e span {\ndisplay: block !important;\npadding: 20px !important;\npadding-left: 20px !important;\nmargin: 0 !important;\nwidth: 100% !important;\n}\n#mh1 #mh1-main-search { float: none !important; }\n#mh1 input[type\x3d"search"] {\nwidth: 100% !important;\nfont-size: 16px; /* Minimu to avoid zoom on android */\ndisplay: block !important;\npadding: 4px !important;\nbackground-color: #e2f5ff!important;\nmargin-bottom: 4px !important;\n}\n}\n'],
mh1Js:["SCRIPT",'(function() {\nvar ham \x3d document.getElementById("mh1-hamburger");\nvar ham \x3d document.getElementById("mh1-search-symbol");\nvar menus \x3d document.getElementById("mh1-search");\nvar banner \x3d document.getElementById("mh1");\nvar html \x3d document.getElementsByTagName("html")[0];\nvar wpadminbar \x3d document.getElementById("wpadminbar");\nham.addEventListener("click", function() {\nconsole.log("menus display, height", menus.style.display, menus.style.height);\nvar menusShown \x3d false;\nvar menusCStyle \x3d window.getComputedStyle(menus);\nvar menusHeight \x3d menusCStyle.height;\nconsole.log("---- menusHeight", menusHeight);\nif (0 !\x3d parseInt(menusHeight)) menusShown \x3d true;\nif (!menusShown) {\nconsole.log("menus", menus);\nvar bannerPosition \x3d banner.style.position; // "absolute";\nif ("" \x3d\x3d bannerPosition) {\nmenus.style.position \x3d "absolute";\n} else {\nmenus.style.position \x3d bannerPosition;\n}\n// console.log("banner.style.position", banner.style.position);\n// console.log("menus.style.position", menus.style.position);\nvar bannerBR \x3d banner.getBoundingClientRect();\nvar menuTop \x3d bannerBR.bottom;\nconsole.log("bannerBR.bottom", bannerBR.bottom, "bannerBR.height", bannerBR.height);\nmenus.style.top \x3d menuTop + "px";\n// console.log("menus.style.top", menus.style.top);\n// Get height: \nmenus.style.visibility \x3d "hidden";\nmenus.style.display \x3d "block";\nmenus.style.height \x3d "auto";\nvar mr \x3d menus.getBoundingClientRect();\nmenus.style.visibility \x3d null;\nvar newHeight \x3d mr.height;\nconsole.log("New height:", newHeight, mr);\nif ("absolute" \x3d\x3d menus.style.position) {\nvar htmlMTopBcr \x3d html.getBoundingClientRect().top;\n// console.log("htmlMarginTop from bcr", htmlMTopBcr);\nvar htmlMTopGcs \x3d window.getComputedStyle(html).marginTop;\n// console.log("htmlMarginTop from gcs", htmlMTopGcs);\n// console.log("mr", mr, mr.top);\n// console.log("window.scrollY", window.scrollY);\nmenuTop +\x3d window.scrollY;\n// Fix-me: For some reason I do not understand at all\n// I have to subtract the height of wpadminbar here.\nif (wpadminbar) {\nvar wpBR \x3d wpadminbar.getBoundingClientRect();\nmenuTop -\x3d wpBR.height;\n}\nmenus.style.top \x3d menuTop + "px";\n// console.log("menus.style.top", menus.style.top);\n// Tell we want the position again:\nmr \x3d menus.getBoundingClientRect();\n// Fix-me: Did not help since getBoundingClientRect\n// does not wait for display update.\n}\n// Unfortunately this prevents transition,\n// but we can work around it by:\n// 1. Set a height:\nmenus.style.height \x3d "1px";\n// 2. Set the real height in a timeout:\nsetTimeout(function() {\nmenus.style.height \x3d newHeight+"px";\nmenus.style.borderWidth \x3d "2px";\n}, 10);\n} else {\nmenus.style.height \x3d "0";\nmenus.style.borderWidth \x3d "0";\n}\n});\n})();\n(function() {\nvar menus \x3d document.getElementById("mh1-search");\nvar zField \x3d document.getElementById("mh1-search-zotero");\nzField.addEventListener("focus", function(ev) {\nmenus.style.height \x3d "auto";\n});\nzField.addEventListener("keyup", function(ev) {\nif (13 \x3d\x3d ev.keyCode) {\nvar url \x3d "http://ourcomments.org/psych/zfsp.html?q\x3d"+encodeURIComponent(zField.value);\n// window.location.href \x3d url;\nvar eA \x3d document.createElement("a");\neA.setAttribute("href", url);\neA.setAttribute("target", "_blank");\neA.dispatchEvent(new MouseEvent("click"));\n}\n});\nvar pField \x3d document.getElementById("mh1-search-psyblog");\npField.addEventListener("focus", function(ev) {\nmenus.style.height \x3d "auto";\n});\npField.addEventListener("keyup", function(ev) {\nif (13 \x3d\x3d ev.keyCode) {\nvar url \x3d "http://dl.dropboxusercontent.com/u/848981/it/cw/cse-psyblog.html?q\x3d"\n+encodeURIComponent(pField.value);\n// window.location.href \x3d url;\nvar eA \x3d document.createElement("a");\neA.setAttribute("href", url);\neA.setAttribute("target", "_blank");\neA.dispatchEvent(new MouseEvent("click"));\n} else {\nvar len \x3d pField.value.length;\nif (0 \x3d\x3d len) {\npField.style.backgroundImage \x3d null;\n} else {\npField.style.backgroundImage \x3d "none";\n}\n}\n});\n})();\n(function() {\nvar touchDevice \x3d false;\nif ((\'ontouchstart\' in window) ||\n(navigator.maxTouchPoints \x3e 0) ||\n(navigator.msMaxTouchPoints \x3e 0)) {\n/* browser with either Touch Events of Pointer Events\nrunning on touch-capable device */\ntouchDevice \x3d true;\n// alert("touchDevice");\n}\nvar mh1Title \x3d document.getElementById("mh1-title");\nmh1Title.addEventListener("click", function() {\nvar mm \x3d document.getElementById("mh1-main-menu");\nmm.classList.toggle("mh1-visible-submenu");\n});\nvar blogMenuItem \x3d document.getElementById("mh1-blog-menu-item");\nblogMenuItem.addEventListener("click", function() {\nvar mm \x3d document.getElementById("mh1-blog-list-menu");\nmm.classList.toggle("mh1-visible-submenu");\n});\nif (!touchDevice) {\nvar topMenuItem \x3d document.getElementById("mh1-top-menu");\ntopMenuItem.classList.add("mh1-hover-menu");\nblogMenuItem.classList.add("mh1-hover-menu");\n}\nvar blogListTop \x3d document.getElementById("mh1-top-menu");\nvar blogListContainer \x3d document.getElementById("mh1-blog-list-container-blogs");\nvar blogList;\nvar rq;\nfunction request_blog_list() {\nrq \x3d new XMLHttpRequest();\nrq.onload \x3d function() {\nconsole.log(rq.responseText);\nblogList \x3d rq.responseText;\nvar tempDiv \x3d document.createElement("div");\ntempDiv.innerHTML \x3d blogList;\nwhile (blogListContainer.firstChild) blogListContainer.removeChild(blogListContainer.firstChild);\n// console.log("tempDiv", tempDiv);\nblogListContainer.appendChild(tempDiv.firstChild.firstChild);\nvar liMs \x3d blogListContainer.querySelectorAll("li");\nconsole.log("liMs", liMs);\nfor (var i\x3d0, len\x3dliMs.length; i\x3clen; i++) {\nconsole.log(liMs[i]);\nliMs[i].classList.add("mh1-menu-item");\n}\n};\nrq.onerror \x3d function() {\nconsole.log("Could not fetch blog list.\x3cbr \x3eError:"+rq.responseText);\nblogList \x3d \'\x3cdiv style\x3d"background:yellow; padding:20px; width:200px; border:1px solid red;"\x3e\'\n+\'Could not fetch blog list.\x3cbr \x3eError: \'+rq.responseText+\'\x3c/div\x3e\';\nblogListContainer.innerHTML \x3d blogList;\n};\nrq.ontimeout \x3d function() {\nconsole.log("Could not fetch blog list.\x3cbr \x3eTimeout:"+rq.responseText);\nvar blogList \x3d \'\x3cdiv style\x3d"color: red; padding:20px; width:100%; border:1px solid red;"\x3e\'\n+\'Could not fetch blog list.\x3cbr \x3eTimeout \'+rq.responseText+\' (trying again...)\x3c/div\x3e\';\nblogListContainer.innerHTML \x3d blogList;\nsetTimeout( function() { request_blog_list(); }, 1000);\n};\nrq.timeout \x3d 2000; // milliseconds, for Powweb\x3d2000\n// ajaxurl is only available for admin, or???\nurl \x3d ajaxurl + "?action\x3dmh1_blog_list"+"\x26nc" + Math.random() + "\x3d1";\nconsole.log("blog list url", url);\n// Fix-me: convert to POST\nrq.open("GET", url, true);\nrq.send();\n}\n// blogListTop.addEventListener("mouseover", function() {\nblogMenuItem.addEventListener("mouseover", function() {\nif (rq) return;\nif (typeof ajaxurl \x3d\x3d \'undefined\') {\n// console.log("blogListTop, no ajaxurl");\najaxurl \x3d "http://ourcomments.org/psyblog/wp-admin/admin-ajax.php"; \nif (typeof ajaxurl \x3d\x3d \'undefined\') {\nvar s \x3d document.createElement("style");\ns.setAttribute("type", "text/css");\ns.appendChild(document.createTextNode(\n"#mh1 #mh1-top-menu:hover #mh1-main-menu { display:none!important; }"));\ndocument.body.appendChild(s);\nrq \x3d 1;\nreturn;\n}\n}\nif (ajaxurl) {\nif (!blogList) {\nrequest_blog_list();\n}\n}\n});\n})();\n(function() {\n// You probably do not want to change this function, but just in\n// case I leave it here right under your eyes.. ;-)\nfunction addPixels(oldPx, addPx) {\nvar iOld \x3d parseInt(oldPx);\nif (isNaN(iOld)) iOld \x3d 0;\nvar iAdd \x3d parseInt(addPx);\nif (isNaN(iAdd)) iAdd \x3d 0;\nreturn (iOld+iAdd)+"px";\n}\nvar eltStyle \x3d document.createElement("style");\neltStyle.setAttribute("type", "text/css");\neltStyle.appendChild(document.createTextNode("dummy"));\ndocument.getElementsByTagName("head")[0].appendChild(eltStyle);\nfunction setHtmlMarginTop(marg) {\n// We need to add a style element for the html margin-top\n// since it is set with !important and rules. Even direct\n// element styles with important are then overriden.\neltStyle.replaceChild(\ndocument.createTextNode("html {margin-top:"+marg+"!important;}"),\neltStyle.firstChild\n);\n}\nvar eMh1 \x3d document.getElementById("mh1");\nvar inWP \x3d eMh1.classList.contains("mh1-wp");\nif (!inWP) {\nvar eMh1Shadow \x3d document.createElement("div");\neMh1Shadow.setAttribute("id", "mh1-shadow");\ndocument.body.insertBefore(eMh1Shadow, document.body.firstChild);\n}\nvar mh1Height;\nvar eltAdminFake;\nif (inWP \x26\x26 !document.body.classList.contains("admin-bar")) {\n// Looks like themes are looking for .admin-bar in body and then\n// #wpadminbar. Let us for the moment fake those if they are not there.\n// console.log("did not find admin-bar");\ndocument.body.classList.add("admin-bar");\neltAdminFake \x3d document.createElement("div");\neltAdminFake.setAttribute("id", "wpadminbar");\nvar s \x3d eltAdminFake.style;\n// Seems like we now must make us at least 32px tall (at least\n// for some themes):\nif (parseInt(mh1Height) \x3c 32) {\nmh1Height \x3d "32px";\n// fix-me: looks like jQuery: ???\nmh1.css("height", mh1Height);\n}\ns.height \x3d mh1Height;\ns.minHeight \x3d mh1Height;\ns.position \x3d "fixed";\ns.top \x3d "-"+mh1Height;\ns.left \x3d "0";\n// Try to keep it small:\ns.padding \x3d "0";\ns.margin \x3d "0";\ns.fontSize \x3d "8px";\ns.lineHeight \x3d "10px";\ndocument.body.appendChild(eltAdminFake);\n} \nvar eAdmin \x3d document.getElementById("wpadminbar");\nvar eHtml \x3d document.getElementsByTagName("html")[0];\nfunction doResizing() {\n// console.log("doResizing ----------------");\nvar rMh1 \x3d eMh1.getBoundingClientRect();\nfunction adjustHtmlMarginTop() {\n// mh1Height \x3d jqMh1.outerHeight();\nmh1Height \x3d rMh1.height;\n// console.log("mh1Height", mh1Height);\nvar adminHeight \x3d 0;\nif (!eltAdminFake) adminHeight \x3d window.getComputedStyle(eAdmin).height;\n// console.log("adminHeight", adminHeight);\nvar newHtmlMarginTop \x3d addPixels(adminHeight, mh1Height);\n// console.log("newHtmlMarginTop", newHtmlMarginTop);\n// console.log("adminHeight", adminHeight);\neMh1.style.top \x3d adminHeight;\n// console.log(eMh1.style.top, eMh1);\nsetHtmlMarginTop(newHtmlMarginTop);\n}\nif (inWP)\nadjustHtmlMarginTop();\nelse\neMh1Shadow.style.height \x3d rMh1.height+"px";\nvar htmlWidth \x3d eHtml.clientWidth;\n// console.log("htmlWidth", htmlWidth);\nif (htmlWidth \x3e 699) {\nvar menus \x3d document.getElementById("mh1-search");\nmenus.style.height \x3d null;\nmenus.style.display \x3d null;\nmenus.style.position \x3d null;\n}\n}\n// https://developer.mozilla.org/en-US/docs/Web/Reference/Events/resize\nvar optimizedResize \x3d (function() {\nvar callbacks \x3d [],\nchanged \x3d false,\nrunning \x3d false; \n// fired on resize event\nfunction resize() {\nif (!running) {\nchanged \x3d true;\nloop();\n}\n}\n// resource conscious callback loop\nfunction loop() {\nif (!changed) { \nrunning \x3d false; \n}\nelse {\nchanged \x3d false;\nrunning \x3d true; \ncallbacks.forEach(function(callback) {\ncallback();\n});\nwindow.requestAnimationFrame(loop);\n}\n}\n// adds callback to loop\nfunction addCallback(callback) {\nif (callback) {\ncallbacks.push(callback);\n}\n}\nreturn {\n// initalize resize event listener\ninit: function(callback) {\nif (window.requestAnimationFrame) { \nwindow.addEventListener(\'resize\', resize);\naddCallback(callback);\n}\n},\n// public method to add additional callback\nadd: function(callback) {\naddCallback(callback);\n},\nfakeResize: function() { resize(); }\n}\n})();\n// start resizing process\noptimizedResize.init(\ndoResizing\n);\n// Fix-me: This one does not work correctly - there is a 1px\n// glitch. Tried a fake resize event. Did not correct it, but\n// needed anyway.\n// \n// adjustHtmlMarginTop();\noptimizedResize.fakeResize();\n})();\n']})});(function(){function a(){clearTimeout(k);if(!(20<m++)){var b=document.querySelectorAll(".gsc-completion-container");if(b){var c=b.length;0!==c&&(1===c?(console.log("found compCont"),g=!0,b[0].addEventListener("click",function(){e()})):(console.log("There where "+c+" completion containers"),logIt("There where "+c+" completion containers")))}else k=setTimeout(a,10)}}function b(){console.log("addKeyboardAndClickEvents");document.querySelector("input.gsc-search-button").addEventListener("click",function(){e()});
document.querySelector("#gsc-i-id1").addEventListener("keyup",function(b){g||a();13==b.keyCode&&e()});document.addEventListener("keyup",function(a){13==a.keyCode&&e()})}function c(){for(var a=document.querySelectorAll("div.gsc-cursor-page"),b=0;b<a.length;b++)a[b].addEventListener("click",function(){e();c()})}function e(){console.log("startRewriterWithNodeCheck");G=H=10;I=2;A={};q&&clearInterval(q);q=setInterval(d,500)}function d(){if(0>H--)console.log("-- looped"),clearInterval(q),q=null;else{var a=
document.querySelectorAll("#___gcse_0 .gsc-wrapper .gsc-result div.gs-title a.gs-title.mycheck"),b=document.querySelectorAll('#___gcse_0 .gsc-wrapper .gsc-result div.gs-title a.gs-title:not([class~\x3d"mycheck"])');if(!(b.length===a.length&&0<G--))if(0===b.length){if(b=document.querySelectorAll("#___gcse_0 .gs-no-results-result")[0])b.parentNode.style.opacity=1;0>I--&&(clearInterval(q),q=null,c())}else{for(var a=0,e=b.length;a<e;a++){var d=b[a];d.classList.add("mycheck");var g=d.dataset.ctorig,k=
/https?:\/\/www.zotero.org\/groups\/(.*?)\/items\/itemKey\/([^/?]*)/.exec(g);if(k){var m=k[2],k=n[k[1]];d.href="http://ourcomments.org/cgi-bin/zformat.php?zk\x3d"+m+"\x26zgi\x3d"+k;d.href="http://ourcomments.org/zformat/g/"+k+"/i/"+m;d.dataset.cturl=d.href;d.dataset.ctorig=d.href;g.match(/zotero.org\//)&&((m=s[g])?f(d,m):(m=A[g],k=void 0,m?(k=m,k.push(d)):(h(g),k=[d]),A[g]=k))}else console.log("no zotero match",g)}c()}}}function h(a){var b=/https?:\/\/www.zotero.org\/groups\/(.*?)\/items\/itemKey\/([^/?]*)/.exec(a),
c=b[2],b=(new r(!0,n[b[1]])).item(c),e=new XMLHttpRequest;e.onerror=function(a){logIt(e.statusText);logIt(a)};e.onload=function(){if(200<=e.status&&400>e.status){var b=t(e.responseText)[0];s[a]=b;for(var c=A[a],d;d=c.pop();)f(d,b)}else s[a]=null,logIt("Couldn't read the requested file, status \x3d "+e.status.toString())};e.open("GET",b,!0);try{e.send()}catch(d){logIt(d)}}function f(a,b){myx=a;var c=b.title;if(c){var e=b.date;if(e)var d=/[0-9]{4}/.exec(e),c=c+(" ("+(d?d[0]:e)+")");for(a.replaceChild(document.createTextNode(c),
a.firstChild);a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(c));if(e=a.parentNode.parentNode.nextSibling){var c=e.querySelector(".gs-visibleUrl-short"),e=e.querySelector(".gs-visibleUrl-long"),f=b.url;f||(d=b.DOI)&&(f="http://dx.doi.org/"+d);!f&&(d=b.extra)&&(d=RegExp(/\bPMID: (\d+)/).exec(d),(d=d[1])&&(f="http://www.ncbi.nlm.nih.gov/pubmed/"+d));f||(d=b.ISBN)&&(f="https://www.google.com/search?tbm\x3dbks\x26q\x3disbn:"+d);if(f){var d=f,k=document.createElement("a");
k.href=d;c.textContent=k.hostname;e.textContent=f}else c.textContent="(Unknown URL)",e.textContent="(Unknown URL)",console.log("unknown url, json",b)}a.parentNode.parentNode.parentNode.parentNode.style.opacity="1.0"}else a.parentNode.parentNode.parentNode.parentNode.style.display="none"}console.log("rewrite anon function");window.rewriteCseStart=function(){var a=document.getElementById("gsc-i-id1");a&&(b(),a=a.value,console.log("rewriteCseStart, ta\x3d",a,a.length),0!==a.length&&(console.log("startRewriters"),
document.querySelector("input.gsc-search-button")&&(e(),c())))};var g=!1,k,m=0,s={},q,H,G,I,A})();function r(a,b){if(!b)debugger;if(!b||!/^[0-9]+$/.exec(b))throw"Bad id '"+b+"' in ZURLBuilder";this.d=a;this.id=b}r.prototype.c="https://api.zotero.org/";r.prototype.a="?format\x3datom\x26content\x3djson";function u(a){return a.c+(a.d?"groups":"users")+"/"+a.id+"/"}r.prototype.item=function(a){if(!a)debugger;return u(this)+"items/"+a+this.a};
function v(a,b,c){console.log("zRR",a,"statusObj",void 0);switch(b?b.dataset.zReaderStatus:void 0){case void 0:if(b){var e=w("div",{"class":"zreader-request-info"},"Fetching information from Zotero... (this might not work on mobiles due to a bug in Chrome)");b.dataset.zReaderStatus="requested";b.classList.remove("zreader-error");b.classList.remove("zreader-received");b.classList.add("zreader-requested");b.appendChild(e)}var d=new XMLHttpRequest;d.onerror=function(a){logIt(d.statusText);logIt(a)};
d.onload=function(){if(200<=d.status&&400>d.status){if(b)for(b.dataset.zReaderStatus="received",b.classList.remove("zreader-requested"),b.classList.add("zreader-received");b.firstChild;)b.removeChild(b.firstChild);var a=d.responseText;c&&(a=t(a),c(a,b))}else console.log("Couldn't read the requested file,\x3cbr /\x3estatus \x3d "+d.status.toString()),b&&(b.dataset.zReaderStatus="failed",b.classList.remove("zreader-requested"),b.classList.add("zreader-error"),b.appendChild(w("div",null,["Couldn't read the requested file",
w("br"),"status \x3d "+d.status.toString()])))};d.ontimeout=function(){logIt("rq.ontimeout "+a)};d.onreadystatechange=function(){4===d.readyState&&200!==d.status&&console.log("Error",d.statusText)};d.open("GET",a,!0);try{d.send()}catch(h){logIt(h)}}}
function x(a,b,c){var e="Displays the latest updates (last "+y+" days)\nwhich might not have been found by Google yet.\n\n(Note: All entries from those days are displayed!)",d=z;function h(){var b=m.lastChild;"none"!=q.style.display?(q.style.display="none",b.replaceChild(document.createTextNode(g),b.firstChild)):(q.style.display="block",b.replaceChild(document.createTextNode(k),b.firstChild),v(a,s,d))}var f=document.createDocumentFragment(),g=String.fromCharCode(9654),k=String.fromCharCode(9660),
m=w("span",{"class":"zreader-toggle-fetch unselectable",tabindex:"0"},[c+" ",w("span",null,g)]);e&&m.setAttribute("title",e);var s=w("div",{"class":"zreader-toggle-fetch-inner"}),q=w("div",{"class":"zreader-toggle-fetch-output"},s);f.appendChild(m);f.appendChild(q);b.appendChild(f);q.style.display="none";m.addEventListener("click",function(){h()});m.addEventListener("keypress",function(a){switch(a.keyCode){case 13:h()}})}
function t(a){theJX=a;E=a=(new DOMParser).parseFromString(a,"text/xml").querySelectorAll("entry");for(var b=[],c=0;c<a.length;c++){var e=a[c],d=e.getElementsByTagNameNS("http://zotero.org/ns/api","key")[0].textContent,h=e.querySelector("published").textContent,e=e.querySelector("content").firstChild.nodeValue,e=JSON.parse(e);e.zoteroItemKey=d;e.zoteroPublished=h;b[c]=e}return J=b}
function w(a,b,c){function e(a){"string"==typeof a?d.appendChild(document.createTextNode(a)):d.appendChild(a)}var d=document.createElement(a);if(c)if(c.length&&"string"!=typeof c)for(a=0;a<c.length;a++)c[a]&&e(c[a]);else e(c);for(var h in b)d.setAttribute(h,b[h]);return d}function B(a,b){var c=new XMLHttpRequest;c.open("get","http://ourcomments.org/cgi-bin/zlibdesc.php?zlib\x3d"+a,!0);c.onerror=function(a){logIt(rq.statusText);logIt(a)};c.onload=function(){b(c)};try{c.send()}catch(e){logIt(e)}}
function C(a,b,c){for(;c.firstChild;)c.removeChild(c.firstChild);c.appendChild(w("span",null,"Fetching info..."));c.style.display="block";B(a,function(e){for(;c.firstChild;)c.removeChild(c.firstChild);if(200<=e.status&&400>e.status){e=e.responseText;var d=w("div");e=e.replace(/ src="[^h]/g,' xsrc\x3d"');d.innerHTML=e;e=d.querySelector("div.minor-col.last-col");for(var h=e.querySelector("ul.group-information"),f;f=h.nextSibling;)f.parentNode.removeChild(f);h.parentNode.removeChild(h);h=e.querySelectorAll("a");
f=0;for(var g;g=h[f++];){var k=g.getAttribute("href");"/"===k.substr(0,1)&&g.setAttribute("href","https://www.zotero.org"+k)}!b&&(b="(fix-me)",d=d.querySelector("[id\x3d'group-show'] h1"))&&(b=d.innerText,d.parentNode.removeChild(d));d=w("div",{"class":"libinfo-header",title:"Visit Zotero"},["Zotero library ",w("a",{href:a},b)]);c.appendChild(d);c.appendChild(e)}else c.innerHTML="Could not get info. Please right click on link.",console.log("Couldn't read the requested file, status \x3d "+e.status.toString())})}
;var D,F={},K="56508";F[K]=["from_some_psychologists","Psychology"];var L="136570";F[L]=["minding_my_mitochondria_terry_wahls","Minding My Mitochondria"];var M="268753";F[M]=["the_wahls_protocol","The Wahls Protocol"];var n,N={},O;for(O in F)N[F[O][0]]=O;n=N;
function P(){console.log("my call back");var a=document.getElementById("zlatest"),b=document.querySelectorAll(".gsc-control-cse");0<b.length&&(b=window.getComputedStyle(b[0]),a.style.backgroundColor=b.backgroundColor);if(b=document.querySelector("input.gsc-search-button"))b=window.getComputedStyle(b),a.style.color=b.backgroundColor;"undefined"!=typeof rewriteCseStart?rewriteCseStart():console.log("no rewriteCseStart yet");"complete"==document.readyState?document.forms[0][0].focus():google.e(function(){document.forms[0][0].focus()},
!0)}var Q=w;function R(a,b,c){c=Q("a",{href:a,title:"Show Zotero library info","class":"no-underline",tabindex:"0"},c);c.addEventListener("click",function(c){c.preventDefault();c.stopPropagation();c=document.querySelector("#libinfo");"block"===c.style.display&&c.dataset.b===b?c.style.display="none":"none"===c.style.display&&c.dataset.b===b?c.style.display="block":(c.dataset.b=b,C(a,b,c))});return c}
function S(a){a=F[a];return R("https://www.zotero.org/groups/"+a[0],a[0].split("_").join(" "),a[1])}function T(a){var b=F[a][1],c=Q("div");a=new r(!0,a);x(u(a)+"items/"+a.a+"\x26limit\x3d50\x26order\x3ddateModified\x26itemType\x3d-attachment",c,"Latest updates in "+b);return c}
function U(a){a=F[a];var b="https://www.google.com/search?q\x3d"+encodeURIComponent("site:"+("www.zotero.org/groups/"+a[0]+"/items/itemKey/")),c=Q("a",{"class":"alt-search",href:b,target:"_blank"},a[1]);c.addEventListener("click",function(){var a=document.getElementById("gsc-i-id1").value;0<a.length&&c.setAttribute("href",b+"+"+encodeURIComponent(a))});return c}
function V(){D=[K,L,M];window.__gcse={callback:P};var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https:":"http:")+"//www.google.com/cse/cse.js?cx\x3d008189935189648121880:ma7nn38e5nq";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}
function W(){D=[K];window.__gcse={callback:P};var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https:":"http:")+"//www.google.com/cse/cse.js?cx\x3d008189935189648121880:c-91zelm5n8";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}
function X(){D=[L,M];window.__gcse={callback:P};var a=document.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==document.location.protocol?"https:":"http:")+"//www.google.com/cse/cse.js?cx\x3d008189935189648121880:u_oojlxeeau";var b=document.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}
var Y=new function(a){if(1<a.length)for(var b=0,c=a.substr(1).split("\x26");b<c.length;b++)a=c[b].split("\x3d"),this[decodeURIComponent(a[0])]=1<a.length?decodeURIComponent(a[1]):""}(window.location.search);
window.addEventListener("load",function(){var a=document.getElementById("problems"),b=Q("a",{id:"few-hits-toggle","class":"top-btn"},"Few or wrong hits?");a.appendChild(b);b.addEventListener("click",function(a){a.preventDefault();c.style.display=""===c.style.display?"block":null});var c=Q("div",{id:"few-hits"});a.appendChild(c);c.appendChild(Q("p",null,["Note 1: ",Q("a",{href:"https://productforums.google.com/forum/#!category-topic/customsearch/troubleshooting-and-bugs/ZXwDTG-1Wuc",target:"_blank"},
"All hits are not always shown"),"! (It sometimes help to click the search button several times.)"]));c.appendChild(Q("p",null,["Note 2: ",Q("a",{href:"https://forums.zotero.org/discussion/33988/google-indexing-and-the-look-of-the-items-pages/",target:"_blank"},"Zotero gives a bit wrong data to Google"),"! This means search sometimes may give very weird results."," Try ",Q("a",{href:function(){var a=window.location;return a.protocol+"//"+a.host+a.pathname+"?q\x3dadhd+mta"}(),target:"_blank"},"this search"),
". When I try this today the last hit looks like it is about MTA, ","but it is actually about something quite different."]));c.appendChild(Q("h3",null,"What can we do about this??"));c.appendChild(Q("p",null,"I am trying to get Google and Zotero to fix this. It will take some time."));c.appendChild(Q("p",null,"In the meantime you have at least three options:"));c.appendChild(Q("ol",null,[Q("li",null,"You can still try this search page, but be aware of the problems."),Q("li",null,["You can ",Q("a",
{href:"https://www.zotero.org/download/",target:"_blank"},"install Zotero on your computer")," and link it to the group libraries above."]),Q("li",null,"You can also search on Zotero's website in the libraries above.")]));var a=document.getElementById("menu-div"),e=Q("ul",null),b=Q("li",{title:"Search our Zotero library for psychology",tabindex:"0","data-what":"psych"},"Psychology");e.appendChild(b);var d=Q("li",{title:"Search our Zotero libraries for food and health",tabindex:"0","data-what":"food"},
"Food \x26 Health");e.appendChild(d);var h=Q("li",{title:"Search all our Zotero libraries,\ni.e. both psychology and food \x26 health",tabindex:"0","data-what":"all"},"All");e.appendChild(h);a.appendChild(e);(function(){for(var a=e.childNodes,b=0,c=a.length;b<c;b++){var d=a[b],f=function(a){var b=document.getElementById("gsc-i-id1").value;a=location.protocol+"//"+location.host+location.pathname+"?what\x3d"+a.dataset.what;b&&0<b.length&&(a+="\x26q\x3d"+b);window.location.href=a};d.addEventListener("click",
function(){f(this)});d.addEventListener("keypress",function(a){switch(a.keyCode){case 13:f(this)}})}})();switch(Y.what){case "food":d.classList.add("menu-selected");X();a=document.createTextNode("Food \x26 Health");b=Q("p",null,["Search Zotero libraries ",S(L)," and ",S(M),"."]);break;case "all":h.classList.add("menu-selected");a=document.createTextNode("All our Zotero libraries");b=Q("p",null,["Search all our Zotero libraries, i.e. ",S(K),", ",S(L)," and ",S(M),"."]);V();break;default:document.querySelector("#problems"),
b.classList.add("menu-selected"),a=document.createTextNode("Psychology"),b=Q("p",null,["Search Zotero library ",S(K),"."]),W()}document.getElementById("title").appendChild(a);document.getElementById("desc").appendChild(b);for(var f=document.getElementById("zlatest");f.firstChild;)f.removeChild(f.firstChild);var g=document.getElementById("alt-searches");if(g)for(;g.firstChild;)g.removeChild(g.firstChild);(function(){function a(){b.style.display="none";c.style.display="block";setTimeout(function(){var a=
c.querySelector("[tabindex]");a&&a.focus()},10)}var b=Q("div",{id:"zlatest-show","class":"unselectable",tabindex:"0"},"Check the latest "+y+" days additions to libraries");b.addEventListener("click",a);b.addEventListener("keypress",function(b){switch(b.keyCode){case 13:a()}});f.appendChild(b);var c=Q("div");c.style.display="none";f.appendChild(c);for(var d=0,e;e=D[d++];){var h=T(e);c.appendChild(h);g&&(e=U(e),g.appendChild(e))}})()});var y=25;
function z(a,b){var c=document.createDocumentFragment(),e=new Date;e.setDate(e.getDate()-y);for(var d=0,h=0;h<a.length;h++){var f=a[h],g=f.accessDate;g&&(g=g.replace(/ .*$/,""),0==g.length&&(g=void 0));var k=f.zoteroPublished;if(new Date(k)>e){var m=f.date,g=g||m||"(no date found)",g=w("span",{"class":"myNew-date"},g),s=f.abstractNote;if(s){300<s.length&&(s=s.substring(0,300)+" ...");var m=f.zoteroItemKey,q="http://www.zotero.org/groups/from_some_psychologists/items/itemKey/"+m,q="http://ourcomments.org/zformat/g/"+D[0]+
"/i/"+m,m=w("a",{href:q,target:"_blank","class":"myNew-link"},f.title),s=w("div",{"class":"myNew-abs-div"},s),k=k.substr(0,10);d++;k=w("div",{"class":"myNew-url-div",title:"no:"+d},"(Added to Zotero "+k+")");url=f.url;f=w("div",{"class":"myNew-url-div"},url);f=w("div",{"class":"myNew-div"},[g," ",m,f,s,k]);c.appendChild(f)}}}0===d&&(e=w("div",{"class":"myNew-div"},"No new additions the latest "+y+" days."),c.appendChild(e));b.appendChild(c)};})();